<input
  [(ngModel)]="nomePaziente"
  pInputText
  type="text"
>
<p>Nome PZ: {{ nomePaziente() || 'none' }}</p>
<p>Pazienti presenti in PS: {{ filteredList().length }}</p>
<hr>

@let srv = healthStatus().service;
@let db = healthStatus().database;
@let uptime = healthStatus().uptime;

<!-- TODO: Da sistemare-->
<ul>
  <li>Service:
    <p-tag
      [severity]="srv == undefined ? 'danger' : 'success'"
      value="{{ srv || 'KO' }}"
    />
  </li>
  <li>Database:
    <p-tag
      [severity]="db === 'DISCONNECTED' ? 'danger' : 'success'"
      value="{{ db || 'KO' }}"
    />
  </li>
  <li>Uptime:
    <p-tag
      [severity]="uptime == undefined ? 'danger' : 'success'"
      value="{{ uptime || 'KO' }}"
    />
  </li>
</ul>

<!--
-   quadrata: Padre -> Figlio
-   rotonda: Figlio -> Padre
-->
<div
  class="flex flex-wrap flex-row gap-4 p-4"
>
  @for (paziente of filteredList(); track paziente.braccialetto) {
    <his-card-pz [borderTop]="false" [paziente]="paziente"/>
    <p-button
      (onClick)="editNomePaziente(paziente.nome)"
      label="edit"
    ></p-button>
  } @empty {
    <h1>Nessun paziente in attesa</h1>
  }
</div>
